---
- name: Wait for SSH
  hosts: ise
  gather_facts: no
  tasks:
    - name: Wait for SSH | {{ inventory_hostname }}
      ansible.builtin.wait_for:
        host: "{{ ansible_host }}"
        port: 22
        state: started    # Port is open
        sleep: 10         # Default: 1. Seconds between checks
        timeout: 1200     # Default: 300. Stop checking after <seconds>

    - name: Wait for HTTPS | {{ inventory_hostname }}
      ansible.builtin.wait_for:
        host: "{{ ansible_host }}"
        port: 443
        state: started    # Port is open
        sleep: 10         # Default: 1. Seconds between checks
        timeout: 1200     # Default: 300. Stop checking after <seconds>

    - name: Wait for Login | {{ inventory_hostname }}
      ansible.builtin.uri:
        url: https://{{ ansible_host }}/admin/login.jsp
        method: GET
        follow_redirects: safe
        timeout: 10
        validate_certs: no
        return_content: no
      register: result
      until: result.status == 200
      retries: 1000

    # ðŸ’¡ Any empty lines in the pause prompt will be trimmed by Ansible!
    #    The empty lines below begin with a Unicode U+2003 Em Space [â€ƒ]!
    - name: ISE Login Ready
      ansible.builtin.pause:
        seconds: 0
        prompt: |
          â€ƒ
          â€ƒ
          â€ƒ          .
          â€ƒ         /|\          ____                _       _
          â€ƒ     @  /|||\  @     |  _ \ ___  __ _  __| |_   _| |
          â€ƒ    @  /|||||\  @    | |_) / _ \/ _` |/ _` | | | | |
          â€ƒ    @  \|/ \|/  @    |  _ <  __/ (_| | (_| | |_| |_|
          â€ƒ     @.       .@     |_| \_\___|\__,_|\__,_|\__, (_)
          â€ƒ      `Y@ @ @Y`                             |___/
          â€ƒ
          â€ƒ


...